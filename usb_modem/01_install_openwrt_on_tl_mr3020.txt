

Устанавливаем Win Agent TFTP Server Manager,
при запуске все настройки оставляем по-умолчанию,
копируем файл прошивки .bin в правую часть окна.
Для простоты файл прошивки можно переименовать в 1.bin


Припаиваем 4 пина к выводу com-порта платы.
Соединяем плату с usb to ttl конвертером (CP 2102, другой может не подойти).
Крайний пин на плате подписан как P1, от него по порядку идут:
- TX (соединяется с RX конвертера)
- RX (соединяется с TX конвертера)
- GND (соединяется с GND конвертера)
- VCC (оставляется не соединенным)


Соединяем плату с пк через ethernet-кабель
и прописываем статический ip-адрес на пк 192.168.1.100.
(или другой, по этому адресу загрузчик платы будет соединяться с сервером по ftp)


Вставляем конвертер в usb порт, 
идем в диспетчер устройств,
смотрим номер com-порта, который появился,
если ком-порт не появился, устанавливаем драйвер для конвертера.


Подключаемся к плате через putty:
Тип подключения: com-порт
Скорость: 115200 бод
Номер компорта: тот, который высветился в диспетчере задач
2 посделних пункта: none, none


Далее включаем плату tp-link в сеть, и смотрим в консоль.
После 1-2 секунд консоль покажет "Autobooting in 1 seconds",
когда вы увидите это введите tpl немедленно.
Есть успели, появится tty hornet>


Команды для загрузки:
setenv ipaddr 192.168.1.111
setenv serverip 192.168.1.100
tftpboot 0x80000000 openwrt-ar71xx-generic-tl-mr3020-v1-squashfs-factory.bin
erase 0x9f020000 +0x3c0000
cp.b 0x80000000 0x9f020000 0x3c0000
bootm 9f020000


Подключаемся по telnet или ssh и задаем root-пароль:
passwd



